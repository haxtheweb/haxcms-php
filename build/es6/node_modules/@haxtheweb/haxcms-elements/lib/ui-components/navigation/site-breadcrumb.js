/**
 * Copyright 2019 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
import{LitElement as e,html as t,css as i}from"../../../../../lit/index.js";import{store as r}from"../../core/haxcms-site-store.js";import"../../../../simple-icon/lib/simple-icon-lite.js";import"../../../../simple-icon/lib/simple-icons.js";import{autorun as s,toJS as o}from"../../../../../mobx/dist/mobx.esm.js";import{DDD as d}from"../../../../d-d-d/d-d-d.js";import{DDDBreadcrumb as a}from"../../../../d-d-d/lib/DDDStyles.js";import{HAXCMSI18NMixin as l}from"../../core/utils/HAXCMSI18NMixin.js";class SiteBreadcrumb extends(l(d)){static get styles(){return[super.styles,a,i`
        :host {
          display: block;
        }
        ol.breadcrumb {
          font-weight: var(--ddd-font-weight-light);
          margin: var(--site-breadcrumb-margin, var(--ddd-spacing-6) 0);
          padding: 0;
          pointer-events: auto;
          font-size: var(
            --site-breadcrumb-font-size,
            var(--ddd-font-size-4xs, 16px)
          );
          list-style: "/";
          gap: var(--ddd-spacing-2);
          display: flex;
          flex-flow: row;
          color: var(--ddd-theme-default-link);
          line-height: normal;
          text-align: start;
        }
        ol.breadcrumb li {
          font-size: var(
            --site-breadcrumb-font-size,
            var(--ddd-font-size-4xs, 16px)
          );
        }
        ol.breadcrumb li a {
          vertical-align: text-top;
          display: inline-block;
          padding: 0 var(--ddd-spacing-2);
          font-family: var(--ddd-font-navigation);
          font-weight: var(--ddd-font-weight-regular);
          text-decoration: none;
          font-size: var(
            --site-breadcrumb-font-size,
            var(--ddd-font-size-4xs, 16px)
          );
          color: var(
            --site-breadcrumb-color,
            var(--ddd-theme-default-link, #383f45)
          );
        }
        ol.breadcrumb li a:hover,
        ol.breadcrumb li a:focus,
        ol.breadcrumb li a:active {
          color: var(
            --site-breadcrumb-color-hover,
            var(--ddd-theme-default-link, #383f45)
          );
          text-decoration: underline;
          text-decoration-color: var(
            --site-breadcrumb-decoration-color-hover,
            var(--ddd-theme-default-link, #383f45)
          );
          text-decoration-thickness: 2px;
          text-underline-offset: 2px;
          text-underline-position: under;
        }
        ol.breadcrumb li:first-child a {
          padding-left: 0;
        }
        ol.breadcrumb li:last-child a {
          color: var(--site-breadcrumb-last-color, black);
          pointer-events: none;
        }

        ol.breadcrumb li::marker {
          color: var(
            --site-breadcrumb-separator-color,
            light-dark(black, white)
          );
        }
      `]}static get tag(){return"site-breadcrumb"}constructor(){super(),this.__disposer=[],this.items=[],this.includeHome=!1,this.t=this.t||{},this.t={...this.t,home:"Home"}}render(){return t` ${this.items.length>0?t`
          <ol
            class="breadcrumb"
            itemscope
            itemtype="https://schema.org/BreadcrumbList"
          >
            ${this.items.map((e=>t`<li
                  itemprop="itemListElement"
                  itemscope
                  itemtype="https://schema.org/ListItem"
                >
                  <a itemprop="item" href="${e.slug}">${e.title}</a>
                </li>`))}
          </ol>
        `:""}`}static get properties(){return{items:{type:Array},editMode:{type:Boolean,reflect:!0,attribute:"edit-mode"},includeHome:{type:Boolean,reflect:!0,attribute:"include-home"}}}firstUpdated(e){super.firstUpdated&&super.firstUpdated(e),s((e=>{this.editMode=o(r.editMode),this.__disposer.push(e)})),s((e=>{this._activeItemChanged(o(r.activeItem)),this.__disposer.push(e)}))}_activeItemChanged(e){const t=e;if(t&&this.shadowRoot){var i=[{title:t.title,slug:t.slug}];let e=t,s=o(r.routerManifest);for(;e&&null!=e.parent;)e=s.items.find((t=>t.id==e.parent)),e&&i.unshift({title:e.title,slug:e.slug});this.includeHome&&i.unshift({title:this.t.home,slug:r.homeLink}),this.includeHome||1!==i.length?this.includeHome&&2===i.length&&i[0].slug===i[1].slug?this.items=[]:this.items=[...i]:this.items=[]}}disconnectedCallback(){for(var e in this.__disposer)this.__disposer[e].dispose();super.disconnectedCallback()}}globalThis.customElements.define(SiteBreadcrumb.tag,SiteBreadcrumb);export{SiteBreadcrumb};